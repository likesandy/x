{"version":3,"sources":["docs/playground/independent.zh-CN.md?type=text","docs/playground/independent.zh-CN.md"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/playground/independent.zh-CN.md?watch=parent';\n  export const texts = [];\n  ","import ColorChunk from '/home/runner/work/x/x/.dumi/theme/builtins/ColorChunk/index.tsx';\nimport API from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/API/index.js';\nimport Badge from '/home/runner/work/x/x/.dumi/theme/builtins/Badge/index.tsx';\nimport CodeGroup from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/CodeGroup/index.js';\nimport Container from '/home/runner/work/x/x/.dumi/theme/builtins/Container/index.tsx';\nimport Previewer from '/home/runner/work/x/x/.dumi/theme/builtins/Previewer/index.tsx';\nimport SourceCode from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/SourceCode/index.js';\nimport Table from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/Table/index.js';\nimport Tree from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/Tree/index.js';\nimport Antd from '/home/runner/work/x/x/.dumi/theme/builtins/Antd.tsx';\nimport APITable from '/home/runner/work/x/x/.dumi/theme/builtins/APITable/index.tsx';\nimport Audio from '/home/runner/work/x/x/.dumi/theme/builtins/Audio/index.tsx';\nimport ColorPalettes from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPalettes/index.ts';\nimport ColorPaletteTool from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPaletteTool/index.ts';\nimport ColorPaletteToolDark from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPaletteToolDark/index.ts';\nimport ComponentMeta from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentMeta/index.tsx';\nimport ComponentOverview from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentOverview/index.tsx';\nimport ComponentTokenTable from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentTokenTable/index.tsx';\nimport DemoWrapper from '/home/runner/work/x/x/.dumi/theme/builtins/DemoWrapper/index.tsx';\nimport IconSearch from '/home/runner/work/x/x/.dumi/theme/builtins/IconSearch/index.tsx';\nimport ImagePreview from '/home/runner/work/x/x/.dumi/theme/builtins/ImagePreview/index.tsx';\nimport InlinePopover from '/home/runner/work/x/x/.dumi/theme/builtins/InlinePopover/index.tsx';\nimport InstallDependencies from '/home/runner/work/x/x/.dumi/theme/builtins/InstallDependencies/index.tsx';\nimport LocaleLink from '/home/runner/work/x/x/.dumi/theme/builtins/LocaleLink/index.tsx';\nimport Palette from '/home/runner/work/x/x/.dumi/theme/builtins/Palette/index.ts';\nimport ResourceCards from '/home/runner/work/x/x/.dumi/theme/builtins/ResourceCards/index.tsx';\nimport Sandpack from '/home/runner/work/x/x/.dumi/theme/builtins/Sandpack/index.tsx';\nimport TokenCompare from '/home/runner/work/x/x/.dumi/theme/builtins/TokenCompare/index.tsx';\nimport TokenTable from '/home/runner/work/x/x/.dumi/theme/builtins/TokenTable/index.tsx';\nimport VideoPlayer from '/home/runner/work/x/x/.dumi/theme/builtins/VideoPlayer/index.tsx';\nimport { DumiDemo } from 'dumi';\nimport { DumiDemoGrid } from 'dumi';\nimport { Link } from 'dumi';\n\nimport LoadingComponent from '@@/dumi/theme/loading';\nimport React, { Suspense } from 'react';\nimport { DumiPage } from 'dumi';\nimport { texts as $$contentTexts } from '/home/runner/work/x/x/docs/playground/independent.zh-CN.md?type=text';\n\n// export named function for fastRefresh\n// ref: https://github.com/pmmmwh/react-refresh-webpack-plugin/blob/main/docs/TROUBLESHOOTING.md#edits-always-lead-to-full-reload\nfunction DumiMarkdownContent() {\n  return (\n    <DumiPage>\n      <Suspense fallback={<LoadingComponent />}>\n        <><DumiDemo {...{\n  \"demo\": {\n    \"id\": \"docs-playground-independent-demo-independent\"\n  },\n  \"previewerProps\": {\n    \"title\": \"独立 WebApp 模式\",\n    \"compact\": true,\n    \"iframe\": \"600\",\n    \"filename\": \"docs/playground/independent.tsx\",\n    \"pkgDependencyList\": {\n      \"@ant-design/tools\": \"^19.0.2\",\n      \"@ant-design/v5-patch-for-react-19\": \"^1.0.3\",\n      \"@antv/gpt-vis\": \"^0.5.2\",\n      \"@biomejs/biome\": \"^2.0.5\",\n      \"@codecov/webpack-plugin\": \"^1.4.0\",\n      \"@codesandbox/sandpack-react\": \"^2.19.8\",\n      \"@emotion/react\": \"^11.13.5\",\n      \"@emotion/server\": \"^11.11.0\",\n      \"@happy-dom/jest-environment\": \"^18.0.1\",\n      \"@ianvs/prettier-plugin-sort-imports\": \"^4.3.1\",\n      \"@madccc/duplicate-package-checker-webpack-plugin\": \"^1.0.0\",\n      \"@microflash/rehype-figure\": \"^2.1.1\",\n      \"@npmcli/run-script\": \"^9.0.1\",\n      \"@octokit/rest\": \"^21.0.2\",\n      \"@petercatai/assistant\": \"^2.0.13\",\n      \"@prettier/sync\": \"^0.6.1\",\n      \"@qixian.cs/github-contributors-list\": \"^2.0.2\",\n      \"@rc-component/father-plugin\": \"^2.0.4\",\n      \"@rc-component/np\": \"^1.0.3\",\n      \"@rc-component/trigger\": \"^2.2.3\",\n      \"@size-limit/file\": \"^11.1.5\",\n      \"@stackblitz/sdk\": \"^1.11.0\",\n      \"@testing-library/dom\": \"^10.4.0\",\n      \"@testing-library/jest-dom\": \"^6.5.0\",\n      \"@testing-library/react\": \"^16.0.1\",\n      \"@testing-library/user-event\": \"^14.5.2\",\n      \"@types/adm-zip\": \"^0.5.5\",\n      \"@types/ali-oss\": \"^6.16.11\",\n      \"@types/cli-progress\": \"^3.11.6\",\n      \"@types/fs-extra\": \"^11.0.4\",\n      \"@types/gtag.js\": \"^0.0.20\",\n      \"@types/http-server\": \"^0.12.4\",\n      \"@types/inquirer\": \"^9.0.7\",\n      \"@types/isomorphic-fetch\": \"^0.0.39\",\n      \"@types/jest\": \"^29.5.13\",\n      \"@types/jest-axe\": \"^3.5.9\",\n      \"@types/jest-environment-puppeteer\": \"^5.0.6\",\n      \"@types/jest-image-snapshot\": \"^6.4.0\",\n      \"@types/jquery\": \"^3.5.30\",\n      \"@types/jsdom\": \"^21.1.7\",\n      \"@types/lodash\": \"^4.17.7\",\n      \"@types/markdown-it\": \"^14.1.2\",\n      \"@types/minimist\": \"^1.2.5\",\n      \"@types/node\": \"^24.0.3\",\n      \"@types/ora\": \"^3.2.0\",\n      \"@types/pixelmatch\": \"^5.2.6\",\n      \"@types/pngjs\": \"^6.0.5\",\n      \"@types/prismjs\": \"^1.26.4\",\n      \"@types/progress\": \"^2.0.7\",\n      \"@types/qs\": \"^6.9.16\",\n      \"@types/react\": \"^19.0.2\",\n      \"@types/react-copy-to-clipboard\": \"^5.0.7\",\n      \"@types/react-dom\": \"^19.0.2\",\n      \"@types/react-highlight-words\": \"^0.20.0\",\n      \"@types/react-resizable\": \"^3.0.8\",\n      \"@types/semver\": \"^7.5.8\",\n      \"@types/spinnies\": \"^0.5.3\",\n      \"@types/tar\": \"^6.1.13\",\n      \"@types/throttle-debounce\": \"^5.0.2\",\n      \"@types/warning\": \"^3.0.3\",\n      \"@umijs/fabric\": \"^4.0.1\",\n      \"adm-zip\": \"^0.5.16\",\n      \"ali-oss\": \"^6.21.0\",\n      \"antd\": \"^5.25.1\",\n      \"antd-style\": \"^3.6.3\",\n      \"antd-token-previewer\": \"^2.0.8\",\n      \"axios\": \"^1.7.7\",\n      \"browserslist\": \"^4.23.3\",\n      \"browserslist-to-esbuild\": \"^2.1.1\",\n      \"chalk\": \"^5.4.1\",\n      \"cheerio\": \"^1.0.0\",\n      \"circular-dependency-plugin\": \"^5.2.2\",\n      \"cli-progress\": \"^3.12.0\",\n      \"copy-to-clipboard\": \"^3.3.3\",\n      \"cross-env\": \"^10.0.0\",\n      \"cross-fetch\": \"^4.0.0\",\n      \"crypto\": \"^1.0.1\",\n      \"dayjs\": \"^1.11.13\",\n      \"dekko\": \"^0.2.1\",\n      \"dumi\": \"^2.4.17\",\n      \"dumi-plugin-color-chunk\": \"^1.1.2\",\n      \"esbuild-loader\": \"^4.2.2\",\n      \"fast-glob\": \"^3.3.2\",\n      \"father\": \"^4.5.4\",\n      \"fetch-jsonp\": \"^1.3.0\",\n      \"fs-extra\": \"^11.2.0\",\n      \"gh-pages\": \"^6.1.1\",\n      \"glob\": \"^11.0.0\",\n      \"happy-dom\": \"^18.0.1\",\n      \"html2sketch\": \"^1.0.2\",\n      \"http-server\": \"^14.1.1\",\n      \"husky\": \"^9.1.6\",\n      \"identity-obj-proxy\": \"^3.0.0\",\n      \"immer\": \"^10.1.1\",\n      \"inquirer\": \"^12.1.0\",\n      \"is-ci\": \"^4.1.0\",\n      \"isomorphic-fetch\": \"^3.0.0\",\n      \"jest\": \"^30.0.3\",\n      \"jest-axe\": \"^10.0.0\",\n      \"jest-canvas-mock\": \"^2.5.2\",\n      \"jest-environment-node\": \"^30.0.0\",\n      \"jest-image-snapshot\": \"^6.4.0\",\n      \"jest-puppeteer\": \"^11.0.0\",\n      \"jquery\": \"^3.7.1\",\n      \"jsdom\": \"^26.0.0\",\n      \"jsonml-to-react-element\": \"^1.1.11\",\n      \"jsonml.js\": \"^0.1.0\",\n      \"lint-staged\": \"^16.1.2\",\n      \"lodash\": \"^4.17.21\",\n      \"lottie-web\": \"^5.12.2\",\n      \"lunar-typescript\": \"^1.7.5\",\n      \"lz-string\": \"^1.5.0\",\n      \"markdown-it\": \"^14.1.0\",\n      \"minimist\": \"^1.2.8\",\n      \"mockdate\": \"^3.0.5\",\n      \"node-fetch\": \"^3.3.2\",\n      \"node-notifier\": \"^10.0.1\",\n      \"open\": \"^10.1.0\",\n      \"ora\": \"^8.1.0\",\n      \"pixelmatch\": \"^7.1.0\",\n      \"pngjs\": \"^7.0.0\",\n      \"prettier\": \"^3.3.3\",\n      \"prettier-plugin-jsdoc\": \"^1.3.0\",\n      \"pretty-format\": \"^30.0.0\",\n      \"prismjs\": \"^1.29.0\",\n      \"puppeteer\": \"^24.0.0\",\n      \"qs\": \"^6.13.0\",\n      \"rc-drawer\": \"^8.0.0\",\n      \"rc-footer\": \"^0.6.8\",\n      \"rc-resize-observer\": \"^1.4.0\",\n      \"rc-virtual-list\": \"^3.14.5\",\n      \"react\": \"^19.0.0\",\n      \"react-copy-to-clipboard\": \"^5.1.0\",\n      \"react-dom\": \"^19.0.0\",\n      \"react-highlight-words\": \"^0.20.0\",\n      \"react-infinite-scroll-component\": \"^6.1.0\",\n      \"react-intersection-observer\": \"^9.13.1\",\n      \"react-intl\": \"^7.1.11\",\n      \"react-resizable\": \"^3.0.5\",\n      \"react-router-dom\": \"^7.0.1\",\n      \"react-sticky-box\": \"^2.0.5\",\n      \"regenerator-runtime\": \"^0.14.1\",\n      \"rehype-stringify\": \"^10.0.0\",\n      \"remark\": \"^15.0.1\",\n      \"remark-cli\": \"^12.0.1\",\n      \"remark-gfm\": \"^4.0.0\",\n      \"remark-lint\": \"^10.0.0\",\n      \"remark-lint-no-undefined-references\": \"^5.0.0\",\n      \"remark-preset-lint-recommended\": \"^7.0.0\",\n      \"remark-rehype\": \"^11.1.0\",\n      \"scroll-into-view-if-needed\": \"^3.1.0\",\n      \"semver\": \"^7.6.3\",\n      \"sharp\": \"^0.34.3\",\n      \"simple-git\": \"^3.26.0\",\n      \"size-limit\": \"^11.1.5\",\n      \"spinnies\": \"^0.5.1\",\n      \"tar\": \"^7.4.3\",\n      \"tsx\": \"^4.19.1\",\n      \"typedoc\": \"^0.28.0\",\n      \"typescript\": \"~5.8.2\",\n      \"vanilla-jsoneditor\": \"^3.0.0\",\n      \"web-streams-polyfill\": \"^4.0.0\",\n      \"webpack\": \"^5.94.0\",\n      \"webpack-bundle-analyzer\": \"^4.10.2\",\n      \"@ant-design/colors\": \"^7.1.0\",\n      \"@ant-design/cssinjs\": \"^1.21.1\",\n      \"@ant-design/cssinjs-utils\": \"^1.1.0\",\n      \"@ant-design/fast-color\": \"^2.0.6\",\n      \"@ant-design/icons\": \"^5.4.0\",\n      \"@babel/runtime\": \"^7.25.6\",\n      \"classnames\": \"^2.5.1\",\n      \"rc-motion\": \"^2.9.2\",\n      \"rc-util\": \"^5.43.0\",\n      \"tbox-nodejs-sdk\": \"^0.0.13\"\n    },\n    \"pkgPeerDependencies\": {\n      \"antd\": \"^5.20.3\",\n      \"react\": \">=18.0.0\",\n      \"react-dom\": \">=18.0.0\"\n    },\n    \"jsx\": \"var __awaiter =\\n  (this && this.__awaiter) ||\\n  function (thisArg, _arguments, P, generator) {\\n    function adopt(value) {\\n      return value instanceof P\\n        ? value\\n        : new P(function (resolve) {\\n            resolve(value);\\n          });\\n    }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n      function fulfilled(value) {\\n        try {\\n          step(generator.next(value));\\n        } catch (e) {\\n          reject(e);\\n        }\\n      }\\n      function rejected(value) {\\n        try {\\n          step(generator['throw'](value));\\n        } catch (e) {\\n          reject(e);\\n        }\\n      }\\n      function step(result) {\\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\\n      }\\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n  };\\nimport {\\n  AppstoreAddOutlined,\\n  CloudUploadOutlined,\\n  CommentOutlined,\\n  CopyOutlined,\\n  DeleteOutlined,\\n  DislikeOutlined,\\n  EditOutlined,\\n  EllipsisOutlined,\\n  FileSearchOutlined,\\n  HeartOutlined,\\n  LikeOutlined,\\n  PaperClipOutlined,\\n  PlusOutlined,\\n  ProductOutlined,\\n  QuestionCircleOutlined,\\n  ReloadOutlined,\\n  ScheduleOutlined,\\n  ShareAltOutlined,\\n  SmileOutlined,\\n} from '@ant-design/icons';\\nimport {\\n  Attachments,\\n  Bubble,\\n  Conversations,\\n  Prompts,\\n  Sender,\\n  Welcome,\\n  useXAgent,\\n  useXChat,\\n} from '@ant-design/x';\\nimport { Avatar, Button, Flex, Space, Spin, message } from 'antd';\\nimport { createStyles } from 'antd-style';\\nimport dayjs from 'dayjs';\\nimport React, { useEffect, useRef, useState } from 'react';\\nconst DEFAULT_CONVERSATIONS_ITEMS = [\\n  {\\n    key: 'default-0',\\n    label: 'What is Ant Design X?',\\n    group: 'Today',\\n  },\\n  {\\n    key: 'default-1',\\n    label: 'How to quickly install and import components?',\\n    group: 'Today',\\n  },\\n  {\\n    key: 'default-2',\\n    label: 'New AGI Hybrid Interface',\\n    group: 'Yesterday',\\n  },\\n];\\nconst HOT_TOPICS = {\\n  key: '1',\\n  label: 'Hot Topics',\\n  children: [\\n    {\\n      key: '1-1',\\n      description: 'What has Ant Design X upgraded?',\\n      icon: <span style={{ color: '#f93a4a', fontWeight: 700 }}>1</span>,\\n    },\\n    {\\n      key: '1-2',\\n      description: 'New AGI Hybrid Interface',\\n      icon: <span style={{ color: '#ff6565', fontWeight: 700 }}>2</span>,\\n    },\\n    {\\n      key: '1-3',\\n      description: 'What components are in Ant Design X?',\\n      icon: <span style={{ color: '#ff8f1f', fontWeight: 700 }}>3</span>,\\n    },\\n    {\\n      key: '1-4',\\n      description: 'Come and discover the new design paradigm of the AI era.',\\n      icon: <span style={{ color: '#00000040', fontWeight: 700 }}>4</span>,\\n    },\\n    {\\n      key: '1-5',\\n      description: 'How to quickly install and import components?',\\n      icon: <span style={{ color: '#00000040', fontWeight: 700 }}>5</span>,\\n    },\\n  ],\\n};\\nconst DESIGN_GUIDE = {\\n  key: '2',\\n  label: 'Design Guide',\\n  children: [\\n    {\\n      key: '2-1',\\n      icon: <HeartOutlined />,\\n      label: 'Intention',\\n      description: 'AI understands user needs and provides solutions.',\\n    },\\n    {\\n      key: '2-2',\\n      icon: <SmileOutlined />,\\n      label: 'Role',\\n      description: \\\"AI's public persona and image\\\",\\n    },\\n    {\\n      key: '2-3',\\n      icon: <CommentOutlined />,\\n      label: 'Chat',\\n      description: 'How AI Can Express Itself in a Way Users Understand',\\n    },\\n    {\\n      key: '2-4',\\n      icon: <PaperClipOutlined />,\\n      label: 'Interface',\\n      description: 'AI balances \\\"chat\\\" & \\\"do\\\" behaviors.',\\n    },\\n  ],\\n};\\nconst SENDER_PROMPTS = [\\n  {\\n    key: '1',\\n    description: 'Upgrades',\\n    icon: <ScheduleOutlined />,\\n  },\\n  {\\n    key: '2',\\n    description: 'Components',\\n    icon: <ProductOutlined />,\\n  },\\n  {\\n    key: '3',\\n    description: 'RICH Guide',\\n    icon: <FileSearchOutlined />,\\n  },\\n  {\\n    key: '4',\\n    description: 'Installation Introduction',\\n    icon: <AppstoreAddOutlined />,\\n  },\\n];\\nconst useStyle = createStyles(({ token, css }) => {\\n  return {\\n    layout: css`\\n      width: 100%;\\n      min-width: 1000px;\\n      height: 100vh;\\n      display: flex;\\n      background: ${token.colorBgContainer};\\n      font-family: AlibabaPuHuiTi, ${token.fontFamily}, sans-serif;\\n    `,\\n    // sider 样式\\n    sider: css`\\n      background: ${token.colorBgLayout}80;\\n      width: 280px;\\n      height: 100%;\\n      display: flex;\\n      flex-direction: column;\\n      padding: 0 12px;\\n      box-sizing: border-box;\\n    `,\\n    logo: css`\\n      display: flex;\\n      align-items: center;\\n      justify-content: start;\\n      padding: 0 24px;\\n      box-sizing: border-box;\\n      gap: 8px;\\n      margin: 24px 0;\\n\\n      span {\\n        font-weight: bold;\\n        color: ${token.colorText};\\n        font-size: 16px;\\n      }\\n    `,\\n    addBtn: css`\\n      background: #1677ff0f;\\n      border: 1px solid #1677ff34;\\n      height: 40px;\\n    `,\\n    conversations: css`\\n      flex: 1;\\n      overflow-y: auto;\\n      margin-top: 12px;\\n      padding: 0;\\n\\n      .ant-conversations-list {\\n        padding-inline-start: 0;\\n      }\\n    `,\\n    siderFooter: css`\\n      border-top: 1px solid ${token.colorBorderSecondary};\\n      height: 40px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: space-between;\\n    `,\\n    // chat list 样式\\n    chat: css`\\n      height: 100%;\\n      width: 100%;\\n      box-sizing: border-box;\\n      display: flex;\\n      flex-direction: column;\\n      padding-block: ${token.paddingLG}px;\\n      gap: 16px;\\n    `,\\n    chatPrompt: css`\\n      .ant-prompts-label {\\n        color: #000000e0 !important;\\n      }\\n      .ant-prompts-desc {\\n        color: #000000a6 !important;\\n        width: 100%;\\n      }\\n      .ant-prompts-icon {\\n        color: #000000a6 !important;\\n      }\\n    `,\\n    chatList: css`\\n      flex: 1;\\n      overflow: auto;\\n    `,\\n    loadingMessage: css`\\n      background-image: linear-gradient(90deg, #ff6b23 0%, #af3cb8 31%, #53b6ff 89%);\\n      background-size: 100% 2px;\\n      background-repeat: no-repeat;\\n      background-position: bottom;\\n    `,\\n    placeholder: css`\\n      padding-top: 32px;\\n    `,\\n    // sender 样式\\n    sender: css`\\n      width: 100%;\\n      max-width: 700px;\\n      margin: 0 auto;\\n    `,\\n    speechButton: css`\\n      font-size: 18px;\\n      color: ${token.colorText} !important;\\n    `,\\n    senderPrompt: css`\\n      width: 100%;\\n      max-width: 700px;\\n      margin: 0 auto;\\n      color: ${token.colorText};\\n    `,\\n  };\\n});\\nconst Independent = () => {\\n  const { styles } = useStyle();\\n  const abortController = useRef(null);\\n  // ==================== State ====================\\n  const [messageHistory, setMessageHistory] = useState({});\\n  const [conversations, setConversations] = useState(DEFAULT_CONVERSATIONS_ITEMS);\\n  const [curConversation, setCurConversation] = useState(DEFAULT_CONVERSATIONS_ITEMS[0].key);\\n  const [attachmentsOpen, setAttachmentsOpen] = useState(false);\\n  const [attachedFiles, setAttachedFiles] = useState([]);\\n  const [inputValue, setInputValue] = useState('');\\n  /**\\n   * 🔔 Please replace the BASE_URL, PATH, MODEL, API_KEY with your own values.\\n   */\\n  // ==================== Runtime ====================\\n  const [agent] = useXAgent({\\n    baseURL: 'https://api.x.ant.design/api/llm_siliconflow_deepSeek-r1-distill-1wen-7b',\\n    model: 'DeepSeek-R1-Distill-Qwen-7B',\\n    dangerouslyApiKey: 'Bearer sk-xxxxxxxxxxxxxxxxxxxx',\\n  });\\n  const loading = agent.isRequesting();\\n  const { onRequest, messages, setMessages } = useXChat({\\n    agent,\\n    requestFallback: (_, { error }) => {\\n      if (error.name === 'AbortError') {\\n        return {\\n          content: 'Request is aborted',\\n          role: 'assistant',\\n        };\\n      }\\n      return {\\n        content: 'Request failed, please try again!',\\n        role: 'assistant',\\n      };\\n    },\\n    transformMessage: info => {\\n      var _a, _b, _c, _d, _e, _f, _g;\\n      const { originMessage, chunk } = info || {};\\n      let currentContent = '';\\n      let currentThink = '';\\n      try {\\n        if (\\n          (chunk === null || chunk === void 0 ? void 0 : chunk.data) &&\\n          !(chunk === null || chunk === void 0 ? void 0 : chunk.data.includes('DONE'))\\n        ) {\\n          const message = JSON.parse(chunk === null || chunk === void 0 ? void 0 : chunk.data);\\n          currentThink =\\n            ((_c =\\n              (_b =\\n                (_a = message === null || message === void 0 ? void 0 : message.choices) === null ||\\n                _a === void 0\\n                  ? void 0\\n                  : _a[0]) === null || _b === void 0\\n                ? void 0\\n                : _b.delta) === null || _c === void 0\\n              ? void 0\\n              : _c.reasoning_content) || '';\\n          currentContent =\\n            ((_f =\\n              (_e =\\n                (_d = message === null || message === void 0 ? void 0 : message.choices) === null ||\\n                _d === void 0\\n                  ? void 0\\n                  : _d[0]) === null || _e === void 0\\n                ? void 0\\n                : _e.delta) === null || _f === void 0\\n              ? void 0\\n              : _f.content) || '';\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      }\\n      let content = '';\\n      if (\\n        !(originMessage === null || originMessage === void 0 ? void 0 : originMessage.content) &&\\n        currentThink\\n      ) {\\n        content = `<think>${currentThink}`;\\n      } else if (\\n        ((_g =\\n          originMessage === null || originMessage === void 0 ? void 0 : originMessage.content) ===\\n          null || _g === void 0\\n          ? void 0\\n          : _g.includes('<think>')) &&\\n        !(originMessage === null || originMessage === void 0\\n          ? void 0\\n          : originMessage.content.includes('</think>')) &&\\n        currentContent\\n      ) {\\n        content = `${originMessage === null || originMessage === void 0 ? void 0 : originMessage.content}</think>${currentContent}`;\\n      } else {\\n        content = `${(originMessage === null || originMessage === void 0 ? void 0 : originMessage.content) || ''}${currentThink}${currentContent}`;\\n      }\\n      return {\\n        content: content,\\n        role: 'assistant',\\n      };\\n    },\\n    resolveAbortController: controller => {\\n      abortController.current = controller;\\n    },\\n  });\\n  // ==================== Event ====================\\n  const onSubmit = val => {\\n    if (!val) return;\\n    if (loading) {\\n      message.error('Request is in progress, please wait for the request to complete.');\\n      return;\\n    }\\n    onRequest({\\n      stream: true,\\n      message: { role: 'user', content: val },\\n    });\\n  };\\n  // ==================== Nodes ====================\\n  const chatSider = (\\n    <div className={styles.sider}>\\n      {/* 🌟 Logo */}\\n      <div className={styles.logo}>\\n        <img\\n          src=\\\"https://mdn.alipayobjects.com/huamei_iwk9zp/afts/img/A*eco6RrQhxbMAAAAAAAAAAAAADgCCAQ/original\\\"\\n          draggable={false}\\n          alt=\\\"logo\\\"\\n          width={24}\\n          height={24}\\n        />\\n        <span>Ant Design X</span>\\n      </div>\\n\\n      {/* 🌟 添加会话 */}\\n      <Button\\n        onClick={() => {\\n          if (agent.isRequesting()) {\\n            message.error(\\n              'Message is Requesting, you can create a new conversation after request done or abort it right now...',\\n            );\\n            return;\\n          }\\n          const now = dayjs().valueOf().toString();\\n          setConversations([\\n            {\\n              key: now,\\n              label: `New Conversation ${conversations.length + 1}`,\\n              group: 'Today',\\n            },\\n            ...conversations,\\n          ]);\\n          setCurConversation(now);\\n          setMessages([]);\\n        }}\\n        type=\\\"link\\\"\\n        className={styles.addBtn}\\n        icon={<PlusOutlined />}\\n      >\\n        New Conversation\\n      </Button>\\n\\n      {/* 🌟 会话管理 */}\\n      <Conversations\\n        items={conversations}\\n        className={styles.conversations}\\n        activeKey={curConversation}\\n        onActiveChange={val =>\\n          __awaiter(void 0, void 0, void 0, function* () {\\n            var _a;\\n            (_a = abortController.current) === null || _a === void 0 ? void 0 : _a.abort();\\n            // The abort execution will trigger an asynchronous requestFallback, which may lead to timing issues.\\n            // In future versions, the sessionId capability will be added to resolve this problem.\\n            setTimeout(() => {\\n              setCurConversation(val);\\n              setMessages(\\n                (messageHistory === null || messageHistory === void 0\\n                  ? void 0\\n                  : messageHistory[val]) || [],\\n              );\\n            }, 100);\\n          })\\n        }\\n        groupable\\n        styles={{ item: { padding: '0 8px' } }}\\n        menu={conversation => ({\\n          items: [\\n            {\\n              label: 'Rename',\\n              key: 'rename',\\n              icon: <EditOutlined />,\\n            },\\n            {\\n              label: 'Delete',\\n              key: 'delete',\\n              icon: <DeleteOutlined />,\\n              danger: true,\\n              onClick: () => {\\n                var _a;\\n                const newList = conversations.filter(item => item.key !== conversation.key);\\n                const newKey =\\n                  (_a = newList === null || newList === void 0 ? void 0 : newList[0]) === null ||\\n                  _a === void 0\\n                    ? void 0\\n                    : _a.key;\\n                setConversations(newList);\\n                // The delete operation modifies curConversation and triggers onActiveChange, so it needs to be executed with a delay to ensure it overrides correctly at the end.\\n                // This feature will be fixed in a future version.\\n                setTimeout(() => {\\n                  if (conversation.key === curConversation) {\\n                    setCurConversation(newKey);\\n                    setMessages(\\n                      (messageHistory === null || messageHistory === void 0\\n                        ? void 0\\n                        : messageHistory[newKey]) || [],\\n                    );\\n                  }\\n                }, 200);\\n              },\\n            },\\n          ],\\n        })}\\n      />\\n\\n      <div className={styles.siderFooter}>\\n        <Avatar size={24} />\\n        <Button type=\\\"text\\\" icon={<QuestionCircleOutlined />} />\\n      </div>\\n    </div>\\n  );\\n  const chatList = (\\n    <div className={styles.chatList}>\\n      {(messages === null || messages === void 0 ? void 0 : messages.length) ? (\\n        /* 🌟 消息列表 */\\n        <Bubble.List\\n          items={\\n            messages === null || messages === void 0\\n              ? void 0\\n              : messages.map(i =>\\n                  Object.assign(Object.assign({}, i.message), {\\n                    classNames: {\\n                      content: i.status === 'loading' ? styles.loadingMessage : '',\\n                    },\\n                    typing:\\n                      i.status === 'loading' ? { step: 5, interval: 20, suffix: <>💗</> } : false,\\n                  }),\\n                )\\n          }\\n          style={{ height: '100%', paddingInline: 'calc(calc(100% - 700px) /2)' }}\\n          roles={{\\n            assistant: {\\n              placement: 'start',\\n              footer: (\\n                <div style={{ display: 'flex' }}>\\n                  <Button type=\\\"text\\\" size=\\\"small\\\" icon={<ReloadOutlined />} />\\n                  <Button type=\\\"text\\\" size=\\\"small\\\" icon={<CopyOutlined />} />\\n                  <Button type=\\\"text\\\" size=\\\"small\\\" icon={<LikeOutlined />} />\\n                  <Button type=\\\"text\\\" size=\\\"small\\\" icon={<DislikeOutlined />} />\\n                </div>\\n              ),\\n              loadingRender: () => <Spin size=\\\"small\\\" />,\\n            },\\n            user: { placement: 'end' },\\n          }}\\n        />\\n      ) : (\\n        <Space\\n          direction=\\\"vertical\\\"\\n          size={16}\\n          style={{ paddingInline: 'calc(calc(100% - 700px) /2)' }}\\n          className={styles.placeholder}\\n        >\\n          <Welcome\\n            variant=\\\"borderless\\\"\\n            icon=\\\"https://mdn.alipayobjects.com/huamei_iwk9zp/afts/img/A*s5sNRo5LjfQAAAAAAAAAAAAADgCCAQ/fmt.webp\\\"\\n            title=\\\"Hello, I'm Ant Design X\\\"\\n            description=\\\"Base on Ant Design, AGI product interface solution, create a better intelligent vision~\\\"\\n            extra={\\n              <Space>\\n                <Button icon={<ShareAltOutlined />} />\\n                <Button icon={<EllipsisOutlined />} />\\n              </Space>\\n            }\\n          />\\n          <Flex gap={16}>\\n            <Prompts\\n              items={[HOT_TOPICS]}\\n              styles={{\\n                list: { height: '100%' },\\n                item: {\\n                  flex: 1,\\n                  backgroundImage: 'linear-gradient(123deg, #e5f4ff 0%, #efe7ff 100%)',\\n                  borderRadius: 12,\\n                  border: 'none',\\n                },\\n                subItem: { padding: 0, background: 'transparent' },\\n              }}\\n              onItemClick={info => {\\n                onSubmit(info.data.description);\\n              }}\\n              className={styles.chatPrompt}\\n            />\\n\\n            <Prompts\\n              items={[DESIGN_GUIDE]}\\n              styles={{\\n                item: {\\n                  flex: 1,\\n                  backgroundImage: 'linear-gradient(123deg, #e5f4ff 0%, #efe7ff 100%)',\\n                  borderRadius: 12,\\n                  border: 'none',\\n                },\\n                subItem: { background: '#ffffffa6' },\\n              }}\\n              onItemClick={info => {\\n                onSubmit(info.data.description);\\n              }}\\n              className={styles.chatPrompt}\\n            />\\n          </Flex>\\n        </Space>\\n      )}\\n    </div>\\n  );\\n  const senderHeader = (\\n    <Sender.Header\\n      title=\\\"Upload File\\\"\\n      open={attachmentsOpen}\\n      onOpenChange={setAttachmentsOpen}\\n      styles={{ content: { padding: 0 } }}\\n    >\\n      <Attachments\\n        beforeUpload={() => false}\\n        items={attachedFiles}\\n        onChange={info => setAttachedFiles(info.fileList)}\\n        placeholder={type =>\\n          type === 'drop'\\n            ? { title: 'Drop file here' }\\n            : {\\n                icon: <CloudUploadOutlined />,\\n                title: 'Upload files',\\n                description: 'Click or drag files to this area to upload',\\n              }\\n        }\\n      />\\n    </Sender.Header>\\n  );\\n  const chatSender = (\\n    <>\\n      {/* 🌟 提示词 */}\\n      <Prompts\\n        items={SENDER_PROMPTS}\\n        onItemClick={info => {\\n          onSubmit(info.data.description);\\n        }}\\n        styles={{\\n          item: { padding: '6px 12px' },\\n        }}\\n        className={styles.senderPrompt}\\n      />\\n      {/* 🌟 输入框 */}\\n      <Sender\\n        value={inputValue}\\n        header={senderHeader}\\n        onSubmit={() => {\\n          onSubmit(inputValue);\\n          setInputValue('');\\n        }}\\n        onChange={setInputValue}\\n        onCancel={() => {\\n          var _a;\\n          (_a = abortController.current) === null || _a === void 0 ? void 0 : _a.abort();\\n        }}\\n        prefix={\\n          <Button\\n            type=\\\"text\\\"\\n            icon={<PaperClipOutlined style={{ fontSize: 18 }} />}\\n            onClick={() => setAttachmentsOpen(!attachmentsOpen)}\\n          />\\n        }\\n        loading={loading}\\n        className={styles.sender}\\n        allowSpeech\\n        actions={(_, info) => {\\n          const { SendButton, LoadingButton, SpeechButton } = info.components;\\n          return (\\n            <Flex gap={4}>\\n              <SpeechButton className={styles.speechButton} />\\n              {loading ? <LoadingButton type=\\\"default\\\" /> : <SendButton type=\\\"primary\\\" />}\\n            </Flex>\\n          );\\n        }}\\n        placeholder=\\\"Ask or input / use skills\\\"\\n      />\\n    </>\\n  );\\n  useEffect(() => {\\n    // history mock\\n    if (messages === null || messages === void 0 ? void 0 : messages.length) {\\n      setMessageHistory(prev =>\\n        Object.assign(Object.assign({}, prev), { [curConversation]: messages }),\\n      );\\n    }\\n  }, [messages]);\\n  // ==================== Render =================\\n  return (\\n    <div className={styles.layout}>\\n      {chatSider}\\n\\n      <div className={styles.chat}>\\n        {chatList}\\n        {chatSender}\\n      </div>\\n    </div>\\n  );\\n};\\nexport default Independent;\\n\"\n  }\n}} /></>\n      </Suspense>\n    </DumiPage>\n  )\n}\n\nexport default DumiMarkdownContent;"],"names":[],"mappings":"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"}