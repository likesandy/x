{"version":3,"sources":["docs/playground/agent-tbox.zh-CN.md?type=text","docs/playground/agent-tbox.zh-CN.md"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/playground/agent-tbox.zh-CN.md?watch=parent';\n  export const texts = [];\n  ","import ColorChunk from '/home/runner/work/x/x/.dumi/theme/builtins/ColorChunk/index.tsx';\nimport API from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/API/index.js';\nimport Badge from '/home/runner/work/x/x/.dumi/theme/builtins/Badge/index.tsx';\nimport CodeGroup from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/CodeGroup/index.js';\nimport Container from '/home/runner/work/x/x/.dumi/theme/builtins/Container/index.tsx';\nimport Previewer from '/home/runner/work/x/x/.dumi/theme/builtins/Previewer/index.tsx';\nimport SourceCode from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/SourceCode/index.js';\nimport Table from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/Table/index.js';\nimport Tree from '/home/runner/work/x/x/node_modules/dumi/theme-default/builtins/Tree/index.js';\nimport Antd from '/home/runner/work/x/x/.dumi/theme/builtins/Antd.tsx';\nimport APITable from '/home/runner/work/x/x/.dumi/theme/builtins/APITable/index.tsx';\nimport Audio from '/home/runner/work/x/x/.dumi/theme/builtins/Audio/index.tsx';\nimport ColorPalettes from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPalettes/index.ts';\nimport ColorPaletteTool from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPaletteTool/index.ts';\nimport ColorPaletteToolDark from '/home/runner/work/x/x/.dumi/theme/builtins/ColorPaletteToolDark/index.ts';\nimport ComponentMeta from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentMeta/index.tsx';\nimport ComponentOverview from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentOverview/index.tsx';\nimport ComponentTokenTable from '/home/runner/work/x/x/.dumi/theme/builtins/ComponentTokenTable/index.tsx';\nimport DemoWrapper from '/home/runner/work/x/x/.dumi/theme/builtins/DemoWrapper/index.tsx';\nimport IconSearch from '/home/runner/work/x/x/.dumi/theme/builtins/IconSearch/index.tsx';\nimport ImagePreview from '/home/runner/work/x/x/.dumi/theme/builtins/ImagePreview/index.tsx';\nimport InlinePopover from '/home/runner/work/x/x/.dumi/theme/builtins/InlinePopover/index.tsx';\nimport InstallDependencies from '/home/runner/work/x/x/.dumi/theme/builtins/InstallDependencies/index.tsx';\nimport LocaleLink from '/home/runner/work/x/x/.dumi/theme/builtins/LocaleLink/index.tsx';\nimport Palette from '/home/runner/work/x/x/.dumi/theme/builtins/Palette/index.ts';\nimport ResourceCards from '/home/runner/work/x/x/.dumi/theme/builtins/ResourceCards/index.tsx';\nimport Sandpack from '/home/runner/work/x/x/.dumi/theme/builtins/Sandpack/index.tsx';\nimport TokenCompare from '/home/runner/work/x/x/.dumi/theme/builtins/TokenCompare/index.tsx';\nimport TokenTable from '/home/runner/work/x/x/.dumi/theme/builtins/TokenTable/index.tsx';\nimport VideoPlayer from '/home/runner/work/x/x/.dumi/theme/builtins/VideoPlayer/index.tsx';\nimport { DumiDemo } from 'dumi';\nimport { DumiDemoGrid } from 'dumi';\nimport { Link } from 'dumi';\n\nimport LoadingComponent from '@@/dumi/theme/loading';\nimport React, { Suspense } from 'react';\nimport { DumiPage } from 'dumi';\nimport { texts as $$contentTexts } from '/home/runner/work/x/x/docs/playground/agent-tbox.zh-CN.md?type=text';\n\n// export named function for fastRefresh\n// ref: https://github.com/pmmmwh/react-refresh-webpack-plugin/blob/main/docs/TROUBLESHOOTING.md#edits-always-lead-to-full-reload\nfunction DumiMarkdownContent() {\n  return (\n    <DumiPage>\n      <Suspense fallback={<LoadingComponent />}>\n        <><DumiDemo {...{\n  \"demo\": {\n    \"id\": \"docs-playground-agent-tbox-demo-agent-tbox\"\n  },\n  \"previewerProps\": {\n    \"title\": \"百宝箱 X 智能体\",\n    \"compact\": true,\n    \"iframe\": \"600\",\n    \"filename\": \"docs/playground/agent-tbox.tsx\",\n    \"pkgDependencyList\": {\n      \"@ant-design/tools\": \"^19.0.2\",\n      \"@ant-design/v5-patch-for-react-19\": \"^1.0.3\",\n      \"@antv/gpt-vis\": \"^0.5.2\",\n      \"@biomejs/biome\": \"^2.0.5\",\n      \"@codecov/webpack-plugin\": \"^1.4.0\",\n      \"@codesandbox/sandpack-react\": \"^2.19.8\",\n      \"@emotion/react\": \"^11.13.5\",\n      \"@emotion/server\": \"^11.11.0\",\n      \"@happy-dom/jest-environment\": \"^18.0.1\",\n      \"@ianvs/prettier-plugin-sort-imports\": \"^4.3.1\",\n      \"@madccc/duplicate-package-checker-webpack-plugin\": \"^1.0.0\",\n      \"@microflash/rehype-figure\": \"^2.1.1\",\n      \"@npmcli/run-script\": \"^9.0.1\",\n      \"@octokit/rest\": \"^21.0.2\",\n      \"@petercatai/assistant\": \"^2.0.13\",\n      \"@prettier/sync\": \"^0.6.1\",\n      \"@qixian.cs/github-contributors-list\": \"^2.0.2\",\n      \"@rc-component/father-plugin\": \"^2.0.4\",\n      \"@rc-component/np\": \"^1.0.3\",\n      \"@rc-component/trigger\": \"^2.2.3\",\n      \"@size-limit/file\": \"^11.1.5\",\n      \"@stackblitz/sdk\": \"^1.11.0\",\n      \"@testing-library/dom\": \"^10.4.0\",\n      \"@testing-library/jest-dom\": \"^6.5.0\",\n      \"@testing-library/react\": \"^16.0.1\",\n      \"@testing-library/user-event\": \"^14.5.2\",\n      \"@types/adm-zip\": \"^0.5.5\",\n      \"@types/ali-oss\": \"^6.16.11\",\n      \"@types/cli-progress\": \"^3.11.6\",\n      \"@types/fs-extra\": \"^11.0.4\",\n      \"@types/gtag.js\": \"^0.0.20\",\n      \"@types/http-server\": \"^0.12.4\",\n      \"@types/inquirer\": \"^9.0.7\",\n      \"@types/isomorphic-fetch\": \"^0.0.39\",\n      \"@types/jest\": \"^29.5.13\",\n      \"@types/jest-axe\": \"^3.5.9\",\n      \"@types/jest-environment-puppeteer\": \"^5.0.6\",\n      \"@types/jest-image-snapshot\": \"^6.4.0\",\n      \"@types/jquery\": \"^3.5.30\",\n      \"@types/jsdom\": \"^21.1.7\",\n      \"@types/lodash\": \"^4.17.7\",\n      \"@types/markdown-it\": \"^14.1.2\",\n      \"@types/minimist\": \"^1.2.5\",\n      \"@types/node\": \"^24.0.3\",\n      \"@types/ora\": \"^3.2.0\",\n      \"@types/pixelmatch\": \"^5.2.6\",\n      \"@types/pngjs\": \"^6.0.5\",\n      \"@types/prismjs\": \"^1.26.4\",\n      \"@types/progress\": \"^2.0.7\",\n      \"@types/qs\": \"^6.9.16\",\n      \"@types/react\": \"^19.0.2\",\n      \"@types/react-copy-to-clipboard\": \"^5.0.7\",\n      \"@types/react-dom\": \"^19.0.2\",\n      \"@types/react-highlight-words\": \"^0.20.0\",\n      \"@types/react-resizable\": \"^3.0.8\",\n      \"@types/semver\": \"^7.5.8\",\n      \"@types/spinnies\": \"^0.5.3\",\n      \"@types/tar\": \"^6.1.13\",\n      \"@types/throttle-debounce\": \"^5.0.2\",\n      \"@types/warning\": \"^3.0.3\",\n      \"@umijs/fabric\": \"^4.0.1\",\n      \"adm-zip\": \"^0.5.16\",\n      \"ali-oss\": \"^6.21.0\",\n      \"antd\": \"^5.25.1\",\n      \"antd-style\": \"^3.6.3\",\n      \"antd-token-previewer\": \"^2.0.8\",\n      \"axios\": \"^1.7.7\",\n      \"browserslist\": \"^4.23.3\",\n      \"browserslist-to-esbuild\": \"^2.1.1\",\n      \"chalk\": \"^5.4.1\",\n      \"cheerio\": \"^1.0.0\",\n      \"circular-dependency-plugin\": \"^5.2.2\",\n      \"cli-progress\": \"^3.12.0\",\n      \"copy-to-clipboard\": \"^3.3.3\",\n      \"cross-env\": \"^10.0.0\",\n      \"cross-fetch\": \"^4.0.0\",\n      \"crypto\": \"^1.0.1\",\n      \"dayjs\": \"^1.11.13\",\n      \"dekko\": \"^0.2.1\",\n      \"dumi\": \"^2.4.17\",\n      \"dumi-plugin-color-chunk\": \"^1.1.2\",\n      \"esbuild-loader\": \"^4.2.2\",\n      \"fast-glob\": \"^3.3.2\",\n      \"father\": \"^4.5.4\",\n      \"fetch-jsonp\": \"^1.3.0\",\n      \"fs-extra\": \"^11.2.0\",\n      \"gh-pages\": \"^6.1.1\",\n      \"glob\": \"^11.0.0\",\n      \"happy-dom\": \"^18.0.1\",\n      \"html2sketch\": \"^1.0.2\",\n      \"http-server\": \"^14.1.1\",\n      \"husky\": \"^9.1.6\",\n      \"identity-obj-proxy\": \"^3.0.0\",\n      \"immer\": \"^10.1.1\",\n      \"inquirer\": \"^12.1.0\",\n      \"is-ci\": \"^4.1.0\",\n      \"isomorphic-fetch\": \"^3.0.0\",\n      \"jest\": \"^30.0.3\",\n      \"jest-axe\": \"^10.0.0\",\n      \"jest-canvas-mock\": \"^2.5.2\",\n      \"jest-environment-node\": \"^30.0.0\",\n      \"jest-image-snapshot\": \"^6.4.0\",\n      \"jest-puppeteer\": \"^11.0.0\",\n      \"jquery\": \"^3.7.1\",\n      \"jsdom\": \"^26.0.0\",\n      \"jsonml-to-react-element\": \"^1.1.11\",\n      \"jsonml.js\": \"^0.1.0\",\n      \"lint-staged\": \"^16.1.2\",\n      \"lodash\": \"^4.17.21\",\n      \"lottie-web\": \"^5.12.2\",\n      \"lunar-typescript\": \"^1.7.5\",\n      \"lz-string\": \"^1.5.0\",\n      \"markdown-it\": \"^14.1.0\",\n      \"minimist\": \"^1.2.8\",\n      \"mockdate\": \"^3.0.5\",\n      \"node-fetch\": \"^3.3.2\",\n      \"node-notifier\": \"^10.0.1\",\n      \"open\": \"^10.1.0\",\n      \"ora\": \"^8.1.0\",\n      \"pixelmatch\": \"^7.1.0\",\n      \"pngjs\": \"^7.0.0\",\n      \"prettier\": \"^3.3.3\",\n      \"prettier-plugin-jsdoc\": \"^1.3.0\",\n      \"pretty-format\": \"^30.0.0\",\n      \"prismjs\": \"^1.29.0\",\n      \"puppeteer\": \"^24.0.0\",\n      \"qs\": \"^6.13.0\",\n      \"rc-drawer\": \"^8.0.0\",\n      \"rc-footer\": \"^0.6.8\",\n      \"rc-resize-observer\": \"^1.4.0\",\n      \"rc-virtual-list\": \"^3.14.5\",\n      \"react\": \"^19.0.0\",\n      \"react-copy-to-clipboard\": \"^5.1.0\",\n      \"react-dom\": \"^19.0.0\",\n      \"react-highlight-words\": \"^0.20.0\",\n      \"react-infinite-scroll-component\": \"^6.1.0\",\n      \"react-intersection-observer\": \"^9.13.1\",\n      \"react-intl\": \"^7.1.11\",\n      \"react-resizable\": \"^3.0.5\",\n      \"react-router-dom\": \"^7.0.1\",\n      \"react-sticky-box\": \"^2.0.5\",\n      \"regenerator-runtime\": \"^0.14.1\",\n      \"rehype-stringify\": \"^10.0.0\",\n      \"remark\": \"^15.0.1\",\n      \"remark-cli\": \"^12.0.1\",\n      \"remark-gfm\": \"^4.0.0\",\n      \"remark-lint\": \"^10.0.0\",\n      \"remark-lint-no-undefined-references\": \"^5.0.0\",\n      \"remark-preset-lint-recommended\": \"^7.0.0\",\n      \"remark-rehype\": \"^11.1.0\",\n      \"scroll-into-view-if-needed\": \"^3.1.0\",\n      \"semver\": \"^7.6.3\",\n      \"sharp\": \"^0.34.3\",\n      \"simple-git\": \"^3.26.0\",\n      \"size-limit\": \"^11.1.5\",\n      \"spinnies\": \"^0.5.1\",\n      \"tar\": \"^7.4.3\",\n      \"tsx\": \"^4.19.1\",\n      \"typedoc\": \"^0.28.0\",\n      \"typescript\": \"~5.8.2\",\n      \"vanilla-jsoneditor\": \"^3.0.0\",\n      \"web-streams-polyfill\": \"^4.0.0\",\n      \"webpack\": \"^5.94.0\",\n      \"webpack-bundle-analyzer\": \"^4.10.2\",\n      \"@ant-design/colors\": \"^7.1.0\",\n      \"@ant-design/cssinjs\": \"^1.21.1\",\n      \"@ant-design/cssinjs-utils\": \"^1.1.0\",\n      \"@ant-design/fast-color\": \"^2.0.6\",\n      \"@ant-design/icons\": \"^5.4.0\",\n      \"@babel/runtime\": \"^7.25.6\",\n      \"classnames\": \"^2.5.1\",\n      \"rc-motion\": \"^2.9.2\",\n      \"rc-util\": \"^5.43.0\",\n      \"tbox-nodejs-sdk\": \"^0.0.13\"\n    },\n    \"pkgPeerDependencies\": {\n      \"antd\": \"^5.20.3\",\n      \"react\": \">=18.0.0\",\n      \"react-dom\": \">=18.0.0\"\n    },\n    \"jsx\": \"var __awaiter =\\n  (this && this.__awaiter) ||\\n  function (thisArg, _arguments, P, generator) {\\n    function adopt(value) {\\n      return value instanceof P\\n        ? value\\n        : new P(function (resolve) {\\n            resolve(value);\\n          });\\n    }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n      function fulfilled(value) {\\n        try {\\n          step(generator.next(value));\\n        } catch (e) {\\n          reject(e);\\n        }\\n      }\\n      function rejected(value) {\\n        try {\\n          step(generator['throw'](value));\\n        } catch (e) {\\n          reject(e);\\n        }\\n      }\\n      function step(result) {\\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\\n      }\\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n  };\\nvar _a, _b, _c;\\nimport {\\n  AppstoreAddOutlined,\\n  CopyOutlined,\\n  DeleteOutlined,\\n  DislikeOutlined,\\n  EditOutlined,\\n  EllipsisOutlined,\\n  FileSearchOutlined,\\n  HeartOutlined,\\n  LikeOutlined,\\n  PlusOutlined,\\n  ProductOutlined,\\n  QuestionCircleOutlined,\\n  ReloadOutlined,\\n  ScheduleOutlined,\\n  ShareAltOutlined,\\n  SmileOutlined,\\n} from '@ant-design/icons';\\nimport {\\n  Bubble,\\n  Conversations,\\n  Prompts,\\n  Sender,\\n  useXAgent,\\n  useXChat,\\n  Welcome,\\n} from '@ant-design/x';\\nimport { Avatar, Button, Flex, message, Space, Spin } from 'antd';\\nimport { createStyles } from 'antd-style';\\nimport dayjs from 'dayjs';\\nimport React, { useEffect, useRef, useState } from 'react';\\nimport { TboxClient } from 'tbox-nodejs-sdk';\\nconst tboxClient = new TboxClient({\\n  httpClientConfig: {\\n    authorization: 'your-api-key', // Replace with your API key\\n    isAntdXDemo: true, // Only for Ant Design X demo\\n  },\\n});\\nconst zhCN = {\\n  whatIsTbox: '什么是百宝箱 Tbox.cn?',\\n  whatCanTboxDo: '百宝箱可以做什么?',\\n  today: '今天',\\n  yesterday: '昨天',\\n  hotTopics: '最热话题',\\n  designGuide: '设计指南',\\n  intent: '意图',\\n  role: '角色',\\n  aiUnderstandsUserNeeds: 'AI 理解用户需求并提供解决方案',\\n  aiPublicImage: 'AI 的公众形象',\\n  dynamic: '动态',\\n  component: '组件',\\n  guide: '指南',\\n  tutorial: '教程',\\n  newConversation: '新会话',\\n  rename: '重命名',\\n  delete: '删除',\\n  requestInProgress: '请求正在进行中，请等待请求完成。',\\n  demoButtonNoFunction: '演示按钮，无实际功能',\\n  helloAntdXTboxAgent: '你好， 我是 Ant Design X & 百宝箱智能体',\\n  antdXTboxDescription:\\n    '基于 Ant Design 的 AGI 产品界面解决方案，打造更卓越的智能视觉体验，集成了百宝箱 Tbox.cn 的智能体能力，助力产品设计与开发。',\\n  askMeAnything: '向我提问吧',\\n  loadingMessage: '加载中💗',\\n};\\nconst enUS = {\\n  whatIsTbox: 'What is Tbox.cn?',\\n  whatCanTboxDo: 'What can Tbox.cn do?',\\n  today: 'Today',\\n  yesterday: 'Yesterday',\\n  hotTopics: 'Hot Topics',\\n  designGuide: 'Design Guide',\\n  intent: 'Intent',\\n  role: 'Role',\\n  aiUnderstandsUserNeeds: 'AI understands user needs and provides solutions',\\n  aiPublicImage: \\\"AI's public image\\\",\\n  dynamic: 'Dynamic',\\n  component: 'Component',\\n  guide: 'Guide',\\n  tutorial: 'Tutorial',\\n  newConversation: 'New Conversation',\\n  rename: 'Rename',\\n  delete: 'Delete',\\n  requestInProgress: 'Request is in progress, please wait for the request to complete.',\\n  demoButtonNoFunction: 'Demo button, no actual function',\\n  helloAntdXTboxAgent: 'Hello, I am Ant Design X & Tbox Agent',\\n  antdXTboxDescription:\\n    'An AGI product interface solution based on Ant Design, creating a superior intelligent visual experience, integrating the capabilities of Tbox.cn agents to assist in product design and development.',\\n  askMeAnything: 'Ask me anything...',\\n  loadingMessage: 'Loading...',\\n};\\nconst isZhCN =\\n  (_c =\\n    (_b = (_a = window.parent) === null || _a === void 0 ? void 0 : _a.location) === null ||\\n    _b === void 0\\n      ? void 0\\n      : _b.pathname) === null || _c === void 0\\n    ? void 0\\n    : _c.includes('-cn');\\nconst t = isZhCN ? zhCN : enUS;\\nconst DEFAULT_CONVERSATIONS_ITEMS = [\\n  {\\n    key: 'default-0',\\n    label: t.whatIsTbox,\\n    group: t.today,\\n  },\\n  {\\n    key: 'default-2',\\n    label: t.whatCanTboxDo,\\n    group: t.yesterday,\\n  },\\n];\\nconst HOT_TOPICS = {\\n  key: '1',\\n  label: t.hotTopics,\\n  children: [\\n    {\\n      key: '1-1',\\n      description: t.whatIsTbox,\\n      icon: <span style={{ color: '#f93a4a', fontWeight: 700 }}>1</span>,\\n    },\\n    {\\n      key: '1-2',\\n      description: t.whatCanTboxDo,\\n      icon: <span style={{ color: '#ff6565', fontWeight: 700 }}>2</span>,\\n    },\\n  ],\\n};\\nconst DESIGN_GUIDE = {\\n  key: '2',\\n  label: t.designGuide,\\n  children: [\\n    {\\n      key: '2-1',\\n      icon: <HeartOutlined />,\\n      label: t.intent,\\n      description: t.aiUnderstandsUserNeeds,\\n    },\\n    {\\n      key: '2-2',\\n      icon: <SmileOutlined />,\\n      label: t.role,\\n      description: t.aiPublicImage,\\n    },\\n  ],\\n};\\nconst SENDER_PROMPTS = [\\n  {\\n    key: '1',\\n    description: t.dynamic,\\n    icon: <ScheduleOutlined />,\\n  },\\n  {\\n    key: '2',\\n    description: t.component,\\n    icon: <ProductOutlined />,\\n  },\\n  {\\n    key: '3',\\n    description: t.guide,\\n    icon: <FileSearchOutlined />,\\n  },\\n  {\\n    key: '4',\\n    description: t.tutorial,\\n    icon: <AppstoreAddOutlined />,\\n  },\\n];\\nconst useStyle = createStyles(({ token, css }) => {\\n  return {\\n    layout: css`\\n      width: 100%;\\n      min-width: 1000px;\\n      height: 100vh;\\n      display: flex;\\n      background: ${token.colorBgContainer};\\n      font-family: AlibabaPuHuiTi, ${token.fontFamily}, sans-serif;\\n    `,\\n    // sider 样式\\n    sider: css`\\n      background: ${token.colorBgLayout}80;\\n      width: 280px;\\n      height: 100%;\\n      display: flex;\\n      flex-direction: column;\\n      padding: 0 12px;\\n      box-sizing: border-box;\\n    `,\\n    logo: css`\\n      display: flex;\\n      align-items: center;\\n      justify-content: start;\\n      padding: 0 24px;\\n      box-sizing: border-box;\\n      gap: 8px;\\n      margin: 24px 0;\\n\\n      span {\\n        font-weight: bold;\\n        color: ${token.colorText};\\n        font-size: 16px;\\n      }\\n    `,\\n    addBtn: css`\\n      background: #1677ff0f;\\n      border: 1px solid #1677ff34;\\n      height: 40px;\\n    `,\\n    conversations: css`\\n      flex: 1;\\n      overflow-y: auto;\\n      margin-top: 12px;\\n      padding: 0;\\n\\n      .ant-conversations-list {\\n        padding-inline-start: 0;\\n      }\\n    `,\\n    siderFooter: css`\\n      border-top: 1px solid ${token.colorBorderSecondary};\\n      height: 40px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: space-between;\\n    `,\\n    // chat list 样式\\n    chat: css`\\n      height: 100%;\\n      width: 100%;\\n      box-sizing: border-box;\\n      display: flex;\\n      flex-direction: column;\\n      padding-block: ${token.paddingLG}px;\\n      gap: 16px;\\n    `,\\n    chatPrompt: css`\\n      .ant-prompts-label {\\n        color: #000000e0 !important;\\n      }\\n      .ant-prompts-desc {\\n        color: #000000a6 !important;\\n        width: 100%;\\n      }\\n      .ant-prompts-icon {\\n        color: #000000a6 !important;\\n      }\\n    `,\\n    chatList: css`\\n      flex: 1;\\n      overflow: auto;\\n    `,\\n    loadingMessage: css`\\n      background-image: linear-gradient(90deg, #ff6b23 0%, #af3cb8 31%, #53b6ff 89%);\\n      background-size: 100% 2px;\\n      background-repeat: no-repeat;\\n      background-position: bottom;\\n    `,\\n    placeholder: css`\\n      padding-top: 32px;\\n    `,\\n    // sender 样式\\n    sender: css`\\n      width: 100%;\\n      max-width: 700px;\\n      margin: 0 auto;\\n    `,\\n    speechButton: css`\\n      font-size: 18px;\\n      color: ${token.colorText} !important;\\n    `,\\n    senderPrompt: css`\\n      width: 100%;\\n      max-width: 700px;\\n      margin: 0 auto;\\n      color: ${token.colorText};\\n    `,\\n  };\\n});\\nconst Independent = () => {\\n  const { styles } = useStyle();\\n  const streamRef = useRef(null); // 存储 tbox stream 对象\\n  const abortControllerRef = useRef(null); // 存储 AbortController\\n  // ==================== State ====================\\n  const [messageHistory, setMessageHistory] = useState({});\\n  const [conversations, setConversations] = useState(DEFAULT_CONVERSATIONS_ITEMS);\\n  const [curConversation, setCurConversation] = useState(DEFAULT_CONVERSATIONS_ITEMS[0].key);\\n  const [inputValue, setInputValue] = useState('');\\n  /**\\n   * 🔔 Please replace the BASE_URL, PATH, MODEL, API_KEY with your own values.\\n   */\\n  // ==================== Runtime ====================\\n  const [agent] = useXAgent({\\n    request: (_a, _b) =>\\n      __awaiter(\\n        void 0,\\n        [_a, _b],\\n        void 0,\\n        function* ({ message }, { onUpdate, onSuccess, onError, onStream }) {\\n          const stream = tboxClient.chat({\\n            appId: 'your-app-id', // Replace with your app ID\\n            query: message.content,\\n            userId: 'antd-x',\\n          });\\n          streamRef.current = stream;\\n          const abortController = new AbortController();\\n          const originalAbort = abortController.abort.bind(abortController);\\n          abortController.abort = () => {\\n            stream.abort();\\n            originalAbort();\\n          };\\n          onStream === null || onStream === void 0 ? void 0 : onStream(abortController);\\n          const dataArr = [];\\n          stream.on('data', data => {\\n            var _a;\\n            let parsedPayload;\\n            try {\\n              const payload =\\n                ((_a = data.data) === null || _a === void 0 ? void 0 : _a.payload) || '{}';\\n              parsedPayload = JSON.parse(payload);\\n            } catch (e) {\\n              console.error('Failed to parse payload:', e);\\n              return;\\n            }\\n            if (parsedPayload === null || parsedPayload === void 0 ? void 0 : parsedPayload.text) {\\n              dataArr.push(parsedPayload.text);\\n              onUpdate(parsedPayload.text);\\n            }\\n          });\\n          stream.on('error', error => {\\n            onError(error);\\n          });\\n          stream.on('end', () => {\\n            onSuccess(dataArr);\\n          });\\n          stream.on('abort', () => {\\n            onSuccess(dataArr);\\n          });\\n        },\\n      ),\\n  });\\n  const loading = agent.isRequesting();\\n  const { onRequest, messages, setMessages } = useXChat({\\n    agent,\\n    requestPlaceholder: () => {\\n      return {\\n        content: t.loadingMessage,\\n        role: 'assistant',\\n      };\\n    },\\n    requestFallback: (_, { error }) => {\\n      if (error.name === 'AbortError') {\\n        return {\\n          content: 'Request is aborted',\\n          role: 'assistant',\\n        };\\n      }\\n      return {\\n        content: 'Request failed, please try again!',\\n        role: 'assistant',\\n      };\\n    },\\n    transformMessage: info => {\\n      const { originMessage, chunk } = info || {};\\n      if (!chunk) {\\n        return {\\n          content:\\n            (originMessage === null || originMessage === void 0 ? void 0 : originMessage.content) ||\\n            '',\\n          role: 'assistant',\\n        };\\n      }\\n      const content =\\n        (originMessage === null || originMessage === void 0 ? void 0 : originMessage.content) || '';\\n      return {\\n        content: content + chunk,\\n        role: 'assistant',\\n      };\\n    },\\n    resolveAbortController: controller => {\\n      // 存储传入的 controller，这个已经包装了 stream.abort() 方法\\n      abortControllerRef.current = controller;\\n    },\\n  });\\n  // ==================== Event ====================\\n  const onSubmit = val => {\\n    if (!val) return;\\n    if (loading) {\\n      message.error('Request is in progress, please wait for the request to complete.');\\n      return;\\n    }\\n    onRequest({\\n      stream: true,\\n      message: { role: 'user', content: val },\\n    });\\n  };\\n  const onFooterButtonClick = () => {\\n    message.info(t.demoButtonNoFunction);\\n  };\\n  // ==================== Nodes ====================\\n  const chatSider = (\\n    <div className={styles.sider}>\\n      {/* 🌟 Logo */}\\n      <div className={styles.logo}>\\n        <img\\n          src=\\\"https://mdn.alipayobjects.com/huamei_iwk9zp/afts/img/A*eco6RrQhxbMAAAAAAAAAAAAADgCCAQ/original\\\"\\n          draggable={false}\\n          alt=\\\"logo\\\"\\n          width={24}\\n          height={24}\\n        />\\n        <span>Ant Design X</span>\\n      </div>\\n\\n      {/* 🌟 添加会话 */}\\n      <Button\\n        onClick={() => {\\n          if (agent.isRequesting()) {\\n            message.error(t.requestInProgress);\\n            return;\\n          }\\n          const now = dayjs().valueOf().toString();\\n          setConversations([\\n            {\\n              key: now,\\n              label: `${t.newConversation} ${conversations.length + 1}`,\\n              group: t.today,\\n            },\\n            ...conversations,\\n          ]);\\n          setCurConversation(now);\\n          setMessages([]);\\n        }}\\n        type=\\\"link\\\"\\n        className={styles.addBtn}\\n        icon={<PlusOutlined />}\\n      >\\n        {t.newConversation}\\n      </Button>\\n\\n      {/* 🌟 会话管理 */}\\n      <Conversations\\n        items={conversations}\\n        className={styles.conversations}\\n        activeKey={curConversation}\\n        onActiveChange={val =>\\n          __awaiter(void 0, void 0, void 0, function* () {\\n            var _a;\\n            if (agent.isRequesting()) {\\n              message.error(t.requestInProgress);\\n              return;\\n            }\\n            (_a = abortControllerRef.current) === null || _a === void 0 ? void 0 : _a.abort();\\n            // The abort execution will trigger an asynchronous requestFallback, which may lead to timing issues.\\n            // In future versions, the sessionId capability will be added to resolve this problem.\\n            setTimeout(() => {\\n              setCurConversation(val);\\n              setMessages(\\n                (messageHistory === null || messageHistory === void 0\\n                  ? void 0\\n                  : messageHistory[val]) || [],\\n              );\\n            }, 100);\\n          })\\n        }\\n        groupable\\n        styles={{ item: { padding: '0 8px' } }}\\n        menu={conversation => ({\\n          items: [\\n            {\\n              label: t.rename,\\n              key: 'rename',\\n              icon: <EditOutlined />,\\n            },\\n            {\\n              label: t.delete,\\n              key: 'delete',\\n              icon: <DeleteOutlined />,\\n              danger: true,\\n              onClick: () => {\\n                var _a;\\n                const newList = conversations.filter(item => item.key !== conversation.key);\\n                const newKey =\\n                  (_a = newList === null || newList === void 0 ? void 0 : newList[0]) === null ||\\n                  _a === void 0\\n                    ? void 0\\n                    : _a.key;\\n                setConversations(newList);\\n                // The delete operation modifies curConversation and triggers onActiveChange, so it needs to be executed with a delay to ensure it overrides correctly at the end.\\n                // This feature will be fixed in a future version.\\n                setTimeout(() => {\\n                  if (conversation.key === curConversation) {\\n                    setCurConversation(newKey);\\n                    setMessages(\\n                      (messageHistory === null || messageHistory === void 0\\n                        ? void 0\\n                        : messageHistory[newKey]) || [],\\n                    );\\n                  }\\n                }, 200);\\n              },\\n            },\\n          ],\\n        })}\\n      />\\n\\n      <div className={styles.siderFooter}>\\n        <Avatar size={24} />\\n        <Button type=\\\"text\\\" icon={<QuestionCircleOutlined />} />\\n      </div>\\n    </div>\\n  );\\n  const chatList = (\\n    <div className={styles.chatList}>\\n      {(messages === null || messages === void 0 ? void 0 : messages.length) ? (\\n        /* 🌟 消息列表 */\\n        <Bubble.List\\n          items={\\n            messages === null || messages === void 0\\n              ? void 0\\n              : messages.map(i =>\\n                  Object.assign(Object.assign({}, i.message), {\\n                    classNames: {\\n                      content: i.status === 'loading' ? styles.loadingMessage : '',\\n                    },\\n                    typing: i.status === 'loading' ? { suffix: <>💗</> } : false,\\n                  }),\\n                )\\n          }\\n          style={{ height: '100%', paddingInline: 'calc(calc(100% - 700px) /2)' }}\\n          roles={{\\n            assistant: {\\n              placement: 'start',\\n              footer: (\\n                <div style={{ display: 'flex' }}>\\n                  <Button\\n                    type=\\\"text\\\"\\n                    size=\\\"small\\\"\\n                    icon={<ReloadOutlined />}\\n                    onClick={onFooterButtonClick}\\n                  />\\n                  <Button\\n                    type=\\\"text\\\"\\n                    size=\\\"small\\\"\\n                    icon={<CopyOutlined />}\\n                    onClick={onFooterButtonClick}\\n                  />\\n                  <Button\\n                    type=\\\"text\\\"\\n                    size=\\\"small\\\"\\n                    icon={<LikeOutlined />}\\n                    onClick={onFooterButtonClick}\\n                  />\\n                  <Button\\n                    type=\\\"text\\\"\\n                    size=\\\"small\\\"\\n                    icon={<DislikeOutlined />}\\n                    onClick={onFooterButtonClick}\\n                  />\\n                </div>\\n              ),\\n              loadingRender: () => <Spin size=\\\"small\\\" />,\\n            },\\n            user: { placement: 'end' },\\n          }}\\n        />\\n      ) : (\\n        <Space\\n          direction=\\\"vertical\\\"\\n          size={16}\\n          style={{ paddingInline: 'calc(calc(100% - 700px) /2)' }}\\n          className={styles.placeholder}\\n        >\\n          <Welcome\\n            variant=\\\"borderless\\\"\\n            icon=\\\"https://mdn.alipayobjects.com/huamei_iwk9zp/afts/img/A*s5sNRo5LjfQAAAAAAAAAAAAADgCCAQ/fmt.webp\\\"\\n            title={t.helloAntdXTboxAgent}\\n            description={t.antdXTboxDescription}\\n            extra={\\n              <Space>\\n                <Button icon={<ShareAltOutlined />} />\\n                <Button icon={<EllipsisOutlined />} />\\n              </Space>\\n            }\\n          />\\n          <Flex gap={16}>\\n            <Prompts\\n              items={[HOT_TOPICS]}\\n              styles={{\\n                list: { height: '100%' },\\n                item: {\\n                  flex: 1,\\n                  backgroundImage: 'linear-gradient(123deg, #e5f4ff 0%, #efe7ff 100%)',\\n                  borderRadius: 12,\\n                  border: 'none',\\n                },\\n                subItem: { padding: 0, background: 'transparent' },\\n              }}\\n              onItemClick={info => {\\n                onSubmit(info.data.description);\\n              }}\\n              className={styles.chatPrompt}\\n            />\\n\\n            <Prompts\\n              items={[DESIGN_GUIDE]}\\n              styles={{\\n                item: {\\n                  flex: 1,\\n                  backgroundImage: 'linear-gradient(123deg, #e5f4ff 0%, #efe7ff 100%)',\\n                  borderRadius: 12,\\n                  border: 'none',\\n                },\\n                subItem: { background: '#ffffffa6' },\\n              }}\\n              onItemClick={info => {\\n                onSubmit(info.data.description);\\n              }}\\n              className={styles.chatPrompt}\\n            />\\n          </Flex>\\n        </Space>\\n      )}\\n    </div>\\n  );\\n  const chatSender = (\\n    <>\\n      {/* 🌟 提示词 */}\\n      <Prompts\\n        items={SENDER_PROMPTS}\\n        onItemClick={info => {\\n          onSubmit(info.data.description);\\n        }}\\n        styles={{\\n          item: { padding: '6px 12px' },\\n        }}\\n        className={styles.senderPrompt}\\n      />\\n      {/* 🌟 输入框 */}\\n      <Sender\\n        value={inputValue}\\n        onSubmit={() => {\\n          onSubmit(inputValue);\\n          setInputValue('');\\n        }}\\n        onChange={setInputValue}\\n        onCancel={() => {\\n          var _a;\\n          (_a = abortControllerRef.current) === null || _a === void 0 ? void 0 : _a.abort();\\n        }}\\n        loading={loading}\\n        className={styles.sender}\\n        actions={(_, info) => {\\n          const { SendButton, LoadingButton } = info.components;\\n          return (\\n            <Flex gap={4}>\\n              {loading ? <LoadingButton type=\\\"default\\\" /> : <SendButton type=\\\"primary\\\" />}\\n            </Flex>\\n          );\\n        }}\\n        placeholder={t.askMeAnything}\\n      />\\n    </>\\n  );\\n  useEffect(() => {\\n    // history mock\\n    if (messages === null || messages === void 0 ? void 0 : messages.length) {\\n      setMessageHistory(prev =>\\n        Object.assign(Object.assign({}, prev), { [curConversation]: messages }),\\n      );\\n    }\\n  }, [messages]);\\n  // ==================== Render =================\\n  return (\\n    <div className={styles.layout}>\\n      {chatSider}\\n\\n      <div className={styles.chat}>\\n        {chatList}\\n        {chatSender}\\n      </div>\\n    </div>\\n  );\\n};\\nexport default Independent;\\n\"\n  }\n}} /></>\n      </Suspense>\n    </DumiPage>\n  )\n}\n\nexport default DumiMarkdownContent;"],"names":[],"mappings":"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"}